<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0052)https://shamil-ahmadullin.ru/upr/rasstanovka5-2.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
	  
   	<title>Игра запомни блоки.| Упражнения скорочтения для детей.</title>
	<meta property="og:type" content="website">
    <meta property="og:title" content="Игра запомни блоки.| Упражнения скорочтения для детей.">
	<meta property="og:description" content="Упражнения по скорочтению и развитию памяти для детей. Школа скорочтения по методике Шамиля Ахмадуллина.">
	<meta property="og:image" content="http://kazan.turboread.ru/img/upr.jpg">
    <meta property="twitter:title" content="Игра запомни блоки.| Упражнения скорочтения для детей.">
    <meta name="description" content="Упражнения по скорочтению и развитию памяти для детей. Школа скорочтения по методике Шамиля Ахмадуллина..">
    <meta property="twitter:description" content="Упражнения по скорочтению и развитию памяти для детей. Школа скорочтения по методике Шамиля Ахмадуллина.">
    <meta property="og:site_name" content="Школа скорочтения для детей">
    <link rel="image_src" href="http://kazan.turboread.ru/img/upr.jpg">
    <meta property="twitter:image" content="http://kazan.turboread.ru/img/upr.jpg">
	<meta name="author" content="Шамиль Ахмадуллин">
    <meta name="keywords" content="упражнения скорочтение развития памяти уроки скорочтение игра задания онлайн упражения">
<script src="./18_files/jquery.min.js"></script>
<link rel="stylesheet" href="./18_files/style.css">
<link rel="stylesheet" href="./18_files/tablestyle5.css">
<script type="text/javascript">

let clickCount = 0;
let resTime;
let trueClick = 0;
let falseClick = 0;

var n=25;

var main_state = new Array(n);
var user_state = new Array(n);
	var state = 0;
	var g_current_id_num=-1;
	var instance = new sh_match();
	var count=0;
	var main_sel;
	var pause_time=4000;
	var delta_time=100;
	
	
	function init_state(){
			  
			for(var i=0; i<n; i++) {
			main_state[i] =0; 
			user_state[i] =0;		}
			
			for(var i=0; i<5; i++) 
			main_state[i] =1; 
	}
	let a = true;
	function test_state(){
			var count=0;
			for(var i=1; i<=n; i++) {
			if (user_state[i-1]==main_state[i-1] && main_state[i-1]==1) $('#t'+i).css({"background-image": "url('true.jpg')", "background-size": $('#t'+i).width()+2}); 
			if (user_state[i-1]>main_state[i-1]) {$('#t'+i).css({"background-image": "url('false.jpg')", "background-size": $('#t'+i).width()+2}); count++;}
			if (user_state[i-1]<main_state[i-1]) {$('#t'+i).css({"background-image": "url('black.jpg')", "background-size": $('#t'+i).width()+2}); count++;} 
			
			if (count < 1 || count > 5) {
			  $("#user_res_time").text("У Вас "+count+" ошибок!");
			} else if (count == 1) {
			   $("#user_res_time").text("У Вас "+count+" ошибка!");
			} else if (count > 1 && count < 5) {
			   $("#user_res_time").text("У Вас "+count+" ошибки!");
			} else {
			  $("#user_res_time").text("что то пошло не так..");
			}
		}
		if(a) {
			window.parent.postMessage({ 
				status: true,
				type: 'end',
				info: {
					clickCount: 0,
					resTime: resTime,
					trueClick: 5-count,
					falseClick: 0
				}    
			}, '*');
		}
	}
		
	
	
			function init_table_size(){
			sz=Math.min(Math.round($('#match_table').width()/Math.round(Math.sqrt(n)+0.5)),($(window).height()-30)/Math.round(Math.sqrt(n)+0.5))
		for(var i=1; i<=n; i++) 
		$('#t'+i).css({'width':sz,'height': sz*0.9}	);
		$('#centertd').css({'width':sz,'height': sz*0.9}	);
			
	}
	$(window).resize(init_table_size);
		

		function getRandomInt(min, max)
		{
		  return Math.floor(Math.random() * (max - min + 1)) + min;
		}

		function swap(a, i1, i2) {
				var t = a[i1]; a[i1] = a[i2]; a[i2] = t;
			}

	
	function filltable()
		{
			//очистка хтмл таблицы
			for(i=1;i<=n;i++)			
				$('#t'+i).css("background-image", "none");
				
			//рандомизация блоков	
			for(var i=0;i<n*2;i++)
				swap(main_state,getRandomInt(0,n-1),getRandomInt(0,n-1));
				
			// блоки в таблицу	
			for(i=1;i<=n;i++)			
				if (main_state[i-1]==1) 			
					$('#t'+i).css({"background-image": "url('blk.png')", "background-size": $('#t'+i).width()+2});
					
		
			document.getElementById('match_table').style.opacity=1.0;
			document.getElementById('user_res_time').innerHTML="Запомните расположение блоков"
			
		//скрываем блоки через 4 сек	
		for(i=1;i<=n;i++)
		if (main_state[i-1]==1) $("#t"+i).animate({opacity:'0.99'},pause_time-2*delta_time).animate({opacity:'0.0'},2*delta_time);	
			
		$("#gen").hide()
	
		//новый текс и кнопка
		$('#gen').animate({opacity:'0.001'},pause_time).animate({opacity:'1.0'},delta_time,function(){for(i=1;i<=n;i++)			
				$('#t'+i).css({"background-image":"none","opacity":"1.0"});}
			);	
		document.getElementById('gen').innerHTML='Проверить!';		
		$('#user_res_time').animate({opacity:'0.99'},pause_time).animate({opacity:'1.0'},delta_time/2,function(){for(i=1;i<=n;i++)			
				$('#t'+i).css({"background-image":"none","opacity":"1.0"});$("#user_res_time").text("Расставьте блоки"); state=1;	$("#gen").show()});	
		}
		
		

$(document).ready(function(){
    $('.shulte_table').click(function() {
		if (instance.started && state==1)  {
		
		 current_id=$(this).attr('id');       
		 current_id_num=current_id.substr(1);
		
		if(user_state[current_id_num-1]==0){
		
		user_state[current_id_num-1]=1;
		$('#t'+current_id_num).css({"background-image": "url('blk.png')", "background-size": $('#t'+current_id_num).width()+2});
		} else{
		if(user_state[current_id_num-1]==1){
		
		user_state[current_id_num-1]=0;
		$('#t'+current_id_num).css("background-image", "none");
		} }
		
		
		}
    });
});




		function sh_match() {
			var oldthis = this;
			this.started = false;

			this.staring = function() {
				state = 0;
				
				this.started = true;		
				
				init_state();
			
				filltable();
				

				window.parent.postMessage({ 
					status: true,
					type: 'start'  
				}, '*');
								
				
			}
			
			
			this.stop_match = function() {
			
				
				oldthis.started = false;
					
				document.getElementById('gen').innerHTML='Начать упражнение!';
			}
			
		}

		
		$(document).ready(function() {
			document.getElementById('gen').onclick = function ttt() {
				
				if (instance.started && state==1) {
					test_state();
					state=0;
					instance.stop_match();

				}
				else instance.staring();
				
			}
			
			

		});
		


	</script>

	<style> TD, TH{ padding:4px}</style>
</head><body onload="init_table_size()">


	
	
		<div class="main">
		<table id="match_table"><tbody>
				<tr>
<td class="shulte_table" id="t1" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t2" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t3" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t4" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t5" style="width: 117px; height: 105.3px;"></td></tr> <tr>
<td class="shulte_table" id="t6" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t7" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t8" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t9" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t10" style="width: 117px; height: 105.3px;"></td></tr> <tr>
<td class="shulte_table" id="t11" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t12" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t13" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t14" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t15" style="width: 117px; height: 105.3px;"></td></tr> <tr>
<td class="shulte_table" id="t16" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t17" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t18" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t19" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t20" style="width: 117px; height: 105.3px;"></td></tr> <tr>
<td class="shulte_table" id="t21" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t22" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t23" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t24" style="width: 117px; height: 105.3px;"></td>
<td class="shulte_table" id="t25" style="width: 117px; height: 105.3px;"></td>


			</tr></tbody>
		</table>
		<button class="knopka" id="gen">Начать упражнение! </button>
		<div id="timer" style="margin: 20px 0; font-size: 29px;text-align:center"></div>
		
	</div>
	<h3 id="user_res_time" style="margin-top:35px; padding: 0;text-align:center;font-size: 29px;line-height:35px;font-weight:800;"> </h3>
	
</body></html>